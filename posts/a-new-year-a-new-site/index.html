<!doctype html>
<html lang="en-us">
  <head>
      <title>A new year, a new site | AZ</title>

      <meta charset="UTF-8">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="I&#x27;ve migrated my website. Again.">
      <meta name="author" content="Andrew Zah">
      <meta name="keywords" content="">

      <meta property="og:title" content="A new year, a new site | AZ" />
      <meta property="og:author" content="Andrew Zah" />
      <meta property="og:description" content="I&#x27;ve migrated my website. Again." />
      <meta property="article:author" content="Andrew Zah" />
      <meta property="og:type" content="article" />
      <meta property="og:url" content="andrewzah.com&#x2F;posts&#x2F;a-new-year-a-new-site&#x2F;" />
      <meta property="og:image" content="https://andrewzah.com/og.jpg" />

      <meta name="twitter:card" content="summary">
      <meta name="twitter:site" content="@andrew_zah">
      <meta name="twitter:creator" content="@andrew_zah">
      <meta name="twitter:image" content="https://andrewzah.com/twitter-image.png">

      <link rel="stylesheet" href="/main.css">

      <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=vMdnJYpmNaa">
      <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=vMdnJYpmNaa">
      <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=vMdnJYpmNaa">
      <link rel="manifest" href="/site.webmanifest?v=vMdnJYpmNaa">
      <link rel="mask-icon" href="/safari-pinned-tab.svg?v=vMdnJYpmNaa" color="#018a70">
      <link rel="shortcut icon" href="/favicon.ico?v=vMdnJYpmNaa">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#ffffff">

      <script async src="/js/bundle.js"></script>
      
  

    </head>

  <body>
    <div class="container content">
      
        
  <nav>
    <div id="nav-links">
      
      <ul>
        <li><a href="/">Home</a></li>
        <li class="active"><a href="/posts/">Posts</a></li>
        <li ><a href="/contact/">Links</a></li>
        <li ><a href="/contact/">About</a></li>
      </ul>
    </div>
  </nav>

      

      <main>
  <div itemtype="http://schema.org/Article" class="container post">
    <h1 class="page-title" itemprop="name">A new year, a new site</h1>
    <div class="page-meta-data">
      <time itemprop="datePublished" content="2018-02-01" datetime="2018-02-01" class="page-date">
          Feb 01, 2018
          
      </time>
      <span id="word-count">
        —  973 words
      </span>
    </div>
    <hr>
    
      
    
    
      <aside id="toc">
          <h2>Table of Contents</h2>
          <ol>
              <li>
                  <a href="#static-benefits">Static Benefits</a>
                  
              </li><li>
                  <a href="#2017-in-review">2017 in Review</a>
                  <ol>
                      <li>
                          <a href="#docker">Docker</a>
                      </li><li>
                          <a href="#clojure">Clojure</a>
                      </li><li>
                          <a href="#rust">Rust</a>
                      </li>
                  </ol>
              </li><li>
                  <a href="#non-programming">Non-programming</a>
                  
              </li>
          </ol>
      </aside>
    
    <article itemprop="articleBody">
      <p>I've migrated my website. Again.</p>
<p id="zola-continue-reading"><a name="continue-reading"></a></p>
<p>This time, I decided to implement it using <a href="https://www.getgutenberg.io">Gutenberg</a>, a static website generator which is written in <a href="https://www.rust-lang.org/">Rust</a>. I decided it was finally time to stop saying &quot;I'll learn Rust&quot;, and just started.</p>
<p>I also revisited Docker and containerized my website, with <a href="https://caddyserver.com/">Caddy</a> as the HTTP/2 server. After using Caddy, I simply don't want to go back to Apache2 or Nginx for personal projects ever again. Caddy's configs are minimal and it automatically handles HTTPS certificates using <a href="https://letsencrypt.org/">Let's Encrypt</a>.</p>
<p>Here's what my Caddyfile for <code>andrewzah.com</code>, <code>andrei.blue</code>, and <code>znc.andrewzah.com</code> looks like:</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">andrewzah.com, andrei.blue {
  tls your@email.com

  log / stdout {combined}
  errors stderr

  proxy / http://web:1111
}

znc.andrewzah.com {
  tls your@email.com

  log / stdout {combined}
  errors stderr

  proxy / http://znc:6697
}
</span></pre>
<p>That's it. Then with Docker, I can use a Caddy proxy per service. </p>
<h2 id="static-benefits">Static Benefits</h2>
<p>As Gutenberg is a static website generator I have no need for a database. Indeed, I thought it was overkill to run an application and a Postgres instance just for a handful of posts. I much prefer storing my posts <a href="https://github.com/azah/personal-blog">through git</a>. The application's footprint is overall much smaller and I have less dependencies to manage. I want to focus on other programming projects, not so much my website. </p>
<h2 id="2017-in-review">2017 in Review</h2>
<p>2017 was an exploratory year for me. I looked at Docker a lot more, learned a bit of Clojure, and delved into Rust. </p>
<h3 id="docker">Docker</h3>
<p>I can't really say much other than Docker is simply amazing. After I nuked my first VPS setup, I realized how tedious and truly time-consuming manually setting up a server is. It's ridiculous. Now it takes me about 20-25 minutes to set up a server, and that's only because I still do a bit manually (like a docker user, ssh keys, etc). In 2018 I plan on studying better provisioning and setup techniques so I can automate it completely.</p>
<p>My <a href="https://github.com/azah/personal-blog">docker setup</a> utilizes a script to manage several services, such as this website and my personal ZNC server. Adding a docker service is as simple as getting a premade docker image and making a Caddy proxy:</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;"># compose.yml
</span><span style="color:#63a35c;">version</span><span style="color:#323232;">: </span><span style="color:#183691;">&quot;3.3&quot;

</span><span style="color:#63a35c;">services</span><span style="color:#323232;">:
  </span><span style="color:#63a35c;">bitlbee_tls_proxy</span><span style="color:#323232;">:
    </span><span style="color:#63a35c;">build</span><span style="color:#323232;">:
      </span><span style="color:#63a35c;">context</span><span style="color:#323232;">: </span><span style="color:#63a35c;">${COMPOSE_ROOT}/services/bitlbee/
      dockerfile</span><span style="color:#323232;">: </span><span style="color:#63a35c;">Dockerfile-caddy-net
    volumes</span><span style="color:#323232;">:
      - </span><span style="color:#63a35c;">type</span><span style="color:#323232;">: </span><span style="color:#63a35c;">bind
        source</span><span style="color:#323232;">: </span><span style="color:#63a35c;">${COMPOSE_ROOT}/services/bitlbee/Caddyfile
        target</span><span style="color:#323232;">: </span><span style="color:#63a35c;">/etc/Caddyfile
      </span><span style="color:#323232;">- </span><span style="color:#63a35c;">type</span><span style="color:#323232;">: </span><span style="color:#63a35c;">bind
        source</span><span style="color:#323232;">: </span><span style="color:#63a35c;">${COMPOSE_ROOT}/data/caddy/caddypath-bitlbee/
        target</span><span style="color:#323232;">: </span><span style="color:#63a35c;">/var/caddy/
    environment</span><span style="color:#323232;">:
      </span><span style="color:#63a35c;">CADDYPATH</span><span style="color:#323232;">: </span><span style="color:#183691;">&quot;/var/caddy&quot;
    </span><span style="color:#63a35c;">ports</span><span style="color:#323232;">:
      - </span><span style="color:#183691;">&quot;6667:6667&quot;
    </span><span style="color:#63a35c;">restart</span><span style="color:#323232;">: </span><span style="color:#63a35c;">always
  bitlbee</span><span style="color:#323232;">:
    </span><span style="color:#63a35c;">build</span><span style="color:#323232;">:
      </span><span style="color:#63a35c;">context</span><span style="color:#323232;">: </span><span style="color:#63a35c;">${COMPOSE_ROOT}/services/bitlbee
dockerfile</span><span style="color:#323232;">: </span><span style="color:#183691;">Dockerfile-bitlbee
</span></pre><pre style="background-color:#ffffff;">
<span style="color:#323232;">proxy :6667 bitlbee:6667 {
  host znc.andrewzah.com
  tls your@email.com
}
</span></pre>
<p>So that uses my bitlbee Dockerfile and creates a Caddy proxy in the docker container. You can see all of my services <a href="https://github.com/azah/andrewzah.com/tree/master/services">here</a></p>
<h3 id="clojure">Clojure</h3>
<p>Studying Clojure — and forcing myself to stick with it — truly changed me as a programmer. Shifting from a pure Object Oriented mindset towards Functional Programming is easier said than done, but I cannot state how important it is to at least understand FP. <code>Map</code>, <code>Reduce</code>, and <code>Filter</code> are <em>powerful</em>. Languages like Ruby have implementations of these of course, but it's tough to force yourself to actually use them.</p>
<p>Likewise with immutability. Coming from a Ruby background, having to program with immutable variables was like learning how to program all over again. It was tough. Yet as I reflect now, I think it's a much better approach — although mutable variables are still a good choice in certain situations.</p>
<h4 id="reducers-transducers">Reducers &amp; Transducers</h4>
<p>I particularly liked Clojure's <a href="https://clojure.org/reference/reducers">reducers</a> &amp; <a href="https://clojure.org/reference/transducers">transducers</a>. Again, it took time to understand, but once I did… it felt absolutely amazing to transform incoming data streams via concise, logical functions. Speaking of functions, it was quite a lot of fun to learn about the various functions Clojure provides, such as <a href="https://clojuredocs.org/clojure.core/zipmap">zipmap</a> and <a href="https://clojuredocs.org/clojure.core/trampoline">trampoline</a>. </p>
<p>I really like Clojure. Studying the standard library's functions felt rewarding. The only thing I didn't like was its debugging / compiler output. It was not particularly great, coming from a statically typed language like <a href="https://crystal-lang.org/">Crystal</a>. I'm still quite new to Clojure, but I think it made some things much more frustrating than it needed to be.</p>
<h3 id="rust">Rust</h3>
<p>Ah, Rust, what seems like the most talked about language recently. I've only been studying a bit since December, but I adore it so far. From everything that I've seen, it looks like Rust takes great concepts from various programming styles and paradigms and implements them well. Since Rust is new(er) it can take advantage of concepts like <a href="https://en.wikipedia.org/wiki/Communicating_sequential_processes">concurrent programming</a>, as well as fix or address past issues in other languages.</p>
<p>What I will say is that Rust's compiler is <em>phenomenal</em>. It makes error hunting so easy, it's almost like a joy. <a href="https://crates.io/">Crates.io</a> is also fantastic. Shoutouts to those developers.</p>
<h4 id="ownership">Ownership</h4>
<p>What I love so far about rust is its model on <a href="https://doc.rust-lang.org/book/second-edition/ch04-01-what-is-ownership.html">Ownership</a>. I still don't know all that much about Rust, but it's been a lot of fun reading the <a href="https://doc.rust-lang.org/book/second-edition/">Rust Book</a> and O'Reilly's <a href="http://shop.oreilly.com/product/0636920040385.do">Programming Rust</a></p>
<p>My goal in 2018 is to deeply study Rust and explore safe systems programming. Possibly with audio hardware? We'll just have to see.</p>
<h2 id="non-programming">Non-programming</h2>
<p>I also spent almost 7 months in Korea. More info on that will come, but I truly enjoyed my time there, and I'm making a plan on returning full-time as a programmer.</p>

      <hr>
      <div id="email-me">
        Have any observations, criticisms, or corrections? Feel free to <a href="mailto:blog@andrewzah.com">email me</a>. Have a nice day!
      </div>
      
      
      
    </article>
  </div>
</main>
    </div>

    <div class="after-content">
      <div class="container">
        <div>
  <div id="after-main" class="container">
    <div id="random-quote">
      <h2> Random quote </h2>
      <blockquote id="random-quote-quote"></blockquote>
      <p id="random-quote-citation">
        <span id="random-quote-author"></span>
        <span id="random-quote-source"></span>
      </p>
    </div>
    <hr>

    <div class="container after-post">
        

        
          <div id="next_post">
            Next: <i>
              <a class="next" href="/posts/making-a-discord-bot-in-crystal-intro">Making a Discord bot in Crystal: Intro</a>
            </i>
          </div>
        

        
          
  
  <div class="tags">
    Tags: 
    
      
        <a href="/tags/docker/">Docker</a> | 
      
    
      
        <a href="/tags/rust/">Rust</a> | 
      
    
      
        <a href="/tags/clojure/">Clojure</a>
      
    
  </div>

  
  <div class="categories">
    Categories: 
    
      
        <a href="/categories/programming/">Programming</a>
      
    
  </div>


        
    </div>

    <hr>

    <div>
      <form id="mailing-list"
        action="https://tinyletter.com/andrewzah"
        method="post" target="popupwindow"
        onsubmit="window.open('https://tinyletter.com/andrewzah', 'popupwindow', 'scrollbars=yes,width=800');return true">
        <label for="tlemail">
          Enjoy posts like this? Sign up for the mailing list!
        </label>
        <div>
          <input type="text" class="form-label" name="email" id="tlemail" />
          <input type="hidden" value="1" name="embed"/>
          <input type="submit" class="button button-primary" style="" value="Subscribe" />
        </div>
        Note: I hate spam mail as much as you do.
      </form>
    </div>
    <hr>
    </div>

    <footer class="footer">
    <small>
        &copy; Copyright Andrew Zah <time datetime="2019">2019</time>
        | <a href="/contact">Contact</a>
        | <a href="https://git.sr.ht/~andrewzah/personal-site/tree">Site Source Code (AGPLv3)</a>
    </small>
</footer>

    </div>
      </div>
    </div>

    <!-- Matomo -->
    <script type="text/javascript">
      var _paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//matomo.andrewzah.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '2']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->

  </body>
</html>
