<!doctype html>
<html lang="en-us">
  <head>
      <title>Nested Resource Forms Tutorial with Padrino or Rails | AZ</title>

      <meta charset="UTF-8">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="This guide shows how to create forms with nested resources in padrino (and&#x2F;or rails).">
      <meta name="author" content="Andrew Zah">
      <meta name="keywords" content="ruby padrino rails nested resource forms how to tutorial sequel activerecord">

      <meta property="og:title" content="Nested Resource Forms Tutorial with Padrino or Rails | AZ" />
      <meta property="og:author" content="Andrew Zah" />
      <meta property="og:description" content="This guide shows how to create forms with nested resources in padrino (and&#x2F;or rails)." />
      <meta property="article:author" content="Andrew Zah" />
      <meta property="og:type" content="article" />
      <meta property="og:url" content="andrewzah.com&#x2F;posts&#x2F;nested-resource-forms-tutorial-with-padrino-rails&#x2F;" />
      <meta property="og:image" content="https://andrewzah.com/og.jpg" />

      <meta name="twitter:card" content="summary">
      <meta name="twitter:site" content="@andrew_zah">
      <meta name="twitter:creator" content="@andrew_zah">
      <meta name="twitter:image" content="https://andrewzah.com/twitter-image.png">

      <link rel="stylesheet" href="/main.css">

      <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=vMdnJYpmNaa">
      <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=vMdnJYpmNaa">
      <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=vMdnJYpmNaa">
      <link rel="manifest" href="/site.webmanifest?v=vMdnJYpmNaa">
      <link rel="mask-icon" href="/safari-pinned-tab.svg?v=vMdnJYpmNaa" color="#018a70">
      <link rel="shortcut icon" href="/favicon.ico?v=vMdnJYpmNaa">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#ffffff">

      <script async src="/js/bundle.js"></script>
      
  

    </head>

  <body>
    <div class="container content">
      
        
  <nav>
    <div id="nav-links">
      
      <ul>
        <li><a href="/">Home</a></li>
        <li class="active"><a href="/posts/">Posts</a></li>
        <li ><a href="/projects/">Projects</a></li>
        <li ><a href="/talks/">Talks</a></li>
        <li ><a href="/friends/">Friends</a></li>
        <li ><a href="/contact/">Contact</a></li>
        <li ><a href="/quotes/">Quotes</a></li>
        <li><a href="/rss.xml">RSS</a></li>
      </ul>
    </div>
  </nav>

      

      <main>
  <div itemtype="http://schema.org/Article" class="container post">
    <h1 class="page-title" itemprop="name">Nested Resource Forms Tutorial with Padrino or Rails</h1>
    <div class="page-meta-data">
      <time itemprop="datePublished" content="2019-04-11" datetime="2019-04-11" class="page-date">
          Apr 11, 2019
          
      </time>
      <span id="word-count">
        —  925 words
      </span>
    </div>
    <hr>
    <aside id="toc">
        <h2>Table of Contents</h2>
        <ol>
            <li>
                <a href="#the-goal">The Goal</a>
                
            </li><li>
                <a href="#setup">Setup</a>
                <ol>
                    <li>
                        <a href="#schema">Schema</a>
                    </li><li>
                        <a href="#models">Models</a>
                    </li><li>
                        <a href="#form-views">Form Views</a>
                    </li><li>
                        <a href="#controller-and-routes">Controller and Routes</a>
                    </li><li>
                        <a href="#object-views">Object Views</a>
                    </li><li>
                        <a href="#conclusion">Conclusion</a>
                    </li>
                </ol>
            </li>
        </ol>
    </aside>
    <article itemprop="articleBody">
      <p>This guide was written with Padrino and Sequel in mind, but should more or less work for Rails with minimal adaptations. Let's get into it!</p>
<h2 id="the-goal">The Goal</h2>
<p>I have two models: <code>Grammar</code> and <code>GrammarTranslation</code>. A <code>Grammar</code> has many <code>GrammarTranslations</code>.</p>
<p>I want to have a form that lets me create a <code>Grammar</code> and one <code>GrammarTranslation</code> at the same time. Then, I want the <code>grammars/edit</code> page to let me edit the <code>Grammar</code> and edit any of the existing <code>GrammarTranslation</code>s or create new ones.</p>
<p>Note: you can see a full example application that uses nested form objects <a href="https://git.sr.ht/%7Eandrewzah/korean_grammar_data_entry">here</a>.</p>
<h2 id="setup">Setup</h2>
<h3 id="schema">Schema</h3>
<p>This is what the migration schema looks like:</p>
<pre style="background-color:#ffffff;">
<span style="color:#0086b3;">Sequel</span><span style="color:#323232;">.migration </span><span style="font-weight:bold;color:#a71d5d;">do</span><span style="color:#323232;">
  up </span><span style="font-weight:bold;color:#a71d5d;">do</span><span style="color:#323232;">
    create_table </span><span style="color:#0086b3;">:grammars </span><span style="font-weight:bold;color:#a71d5d;">do</span><span style="color:#323232;">
      primary_key </span><span style="color:#0086b3;">:id
      </span><span style="color:#62a35c;">String </span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">, </span><span style="color:#0086b3;">null: false
      </span><span style="color:#62a35c;">String </span><span style="color:#0086b3;">:alternatives
      </span><span style="color:#62a35c;">String </span><span style="color:#0086b3;">:verb_type</span><span style="color:#323232;">, </span><span style="color:#0086b3;">null: false
      DateTime :created_at
    </span><span style="font-weight:bold;color:#a71d5d;">end</span><span style="color:#323232;">

    create_table </span><span style="color:#0086b3;">:grammar_translations </span><span style="font-weight:bold;color:#a71d5d;">do</span><span style="color:#323232;">
      primary_key </span><span style="color:#0086b3;">:id</span><span style="color:#323232;">
      foreign_key </span><span style="color:#0086b3;">:grammar_id</span><span style="color:#323232;">, </span><span style="color:#0086b3;">:grammars
      </span><span style="color:#62a35c;">String </span><span style="color:#0086b3;">:language_code</span><span style="color:#323232;">, </span><span style="color:#0086b3;">null: false
      </span><span style="color:#62a35c;">String </span><span style="color:#0086b3;">:meanings</span><span style="color:#323232;">, </span><span style="color:#0086b3;">null: false
      </span><span style="color:#62a35c;">String </span><span style="color:#0086b3;">:notes
      DateTime :created_at
    </span><span style="font-weight:bold;color:#a71d5d;">end
  end</span><span style="color:#323232;">

  down </span><span style="font-weight:bold;color:#a71d5d;">do</span><span style="color:#323232;">
    drop_table </span><span style="color:#0086b3;">:grammar_translations</span><span style="color:#323232;">
    drop_table </span><span style="color:#0086b3;">:grammars
  </span><span style="font-weight:bold;color:#a71d5d;">end
end

</span></pre>
<p>You'll want to run</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">padrino generate app </span><span style="font-weight:bold;color:#a71d5d;">&lt;</span><span style="color:#323232;">app_name</span><span style="font-weight:bold;color:#a71d5d;">&gt; </span><span style="font-style:italic;color:#969896;"># etc
</span><span style="color:#323232;">padrino generate migration AddGrammarsAndTranslations
</span><span style="font-style:italic;color:#969896;"># you might have to initialize the table manually if this doesn&#39;t work
</span><span style="color:#323232;">rake sq:create 
rake sq:migrate
</span></pre><h3 id="models">Models</h3>
<p>The main model <code>Grammar</code> needs a tag, which differs by which ORM you're using. If it's Sequel, use the <code>nested_attributes</code> tag.<a id="refer-0" href="#reference-0">[0]</a> For ActiveRecord users, instead use <code>accepts_nested_attributes_for</code>.<a id="refer-1" href="#reference-1">[1]</a> Both accept the <code>allow_destroy: true</code> option. Padrino also needs the plugin to explicitly be enabled.</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;"># models/grammar.rb

</span><span style="font-weight:bold;color:#a71d5d;">class </span><span style="color:#0086b3;">Grammar </span><span style="color:#323232;">&lt; </span><span style="font-weight:bold;color:#795da3;">Sequel::Model</span><span style="color:#323232;">
  one_to_many </span><span style="color:#0086b3;">:translations</span><span style="color:#323232;">, </span><span style="font-weight:bold;color:#a71d5d;">class: </span><span style="color:#0086b3;">:GrammarTranslation</span><span style="color:#323232;">

  plugin </span><span style="color:#0086b3;">:nested_attributes</span><span style="color:#323232;">
  nested_attributes </span><span style="color:#0086b3;">:translations</span><span style="color:#323232;">, </span><span style="color:#0086b3;">destroy: true

  </span><span style="font-style:italic;color:#969896;"># Replace ActiveRecord method.
  # (I had to add this to get padrino to stop complaining)
  </span><span style="font-weight:bold;color:#a71d5d;">def </span><span style="color:#ed6a43;">self</span><span style="color:#323232;">.</span><span style="font-weight:bold;color:#795da3;">find_by_id</span><span style="color:#323232;">(id)
    </span><span style="color:#ed6a43;">self</span><span style="color:#323232;">[id] </span><span style="font-weight:bold;color:#a71d5d;">rescue </span><span style="color:#0086b3;">nil
  </span><span style="font-weight:bold;color:#a71d5d;">end
end
</span></pre><pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;"># models/grammar_translation.rb

</span><span style="font-weight:bold;color:#a71d5d;">class </span><span style="color:#0086b3;">GrammarTranslation </span><span style="color:#323232;">&lt; </span><span style="font-weight:bold;color:#795da3;">Sequel::Model</span><span style="color:#323232;">
  many_to_one </span><span style="color:#0086b3;">:grammar

  </span><span style="font-style:italic;color:#969896;"># Replace ActiveRecord method.
  </span><span style="font-weight:bold;color:#a71d5d;">def </span><span style="color:#ed6a43;">self</span><span style="color:#323232;">.</span><span style="font-weight:bold;color:#795da3;">find_by_id</span><span style="color:#323232;">(id)
    </span><span style="color:#ed6a43;">self</span><span style="color:#323232;">[id] </span><span style="font-weight:bold;color:#a71d5d;">rescue </span><span style="color:#0086b3;">nil
  </span><span style="font-weight:bold;color:#a71d5d;">end
end
</span></pre><h3 id="form-views">Form Views</h3>
<p>We use the <code>new</code> and <code>edit</code> templates to initialize the form and pass it as a variable, <code>f</code>.</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;">// app/views/grammar/new.slim

</span><span style="color:#63a35c;">h2
  New</span><span style="color:#323232;"> Grammar

= form_for @grammar, &#39;/grammar/create&#39; do |f|
  = partial &#39;grammar/form&#39;, :locals =&gt; { :f =&gt; f }
</span></pre><pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;">// app/views/grammar/edit.slim

</span><span style="color:#63a35c;">h2
  Update</span><span style="color:#323232;"> Grammar

= form_for :grammar, url(:grammar, :update, id: @grammar.id), method: :put do |f|
  = partial &#39;grammar/form&#39;, :locals =&gt; { :f =&gt; f }
</span></pre>
<p>Since we won't always add a new translation, always marking the fields as required won't work. Instead we can mark fields as required only for existing translations, not new ones.</p>
<p>We can iterate over nested resources with the <code>fields_for :model</code> tag now available to us.</p>
<p><strong>Note1</strong>: Don't forget to setup the <code>id</code> hidden field! Otherwise the orm won't realize it's an existing nested resource.</p>
<p><strong>Note2</strong>: For the destroy checkbox, you must pass <code>:_delete</code>, Not <code>:_destroy</code>. The padrino docs are incorrect here! I had to do a bit of sleuthing to figure out the correct method to send.</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;">// app/views/grammar/_form.slim

</span><span style="color:#323232;">= f.label &#39;Grammar&#39;
= f.text_field :grammar, required: true

= f.label &#39;Alternatives (comma separated)&#39;
= f.text_field :alternatives, required: true

= f.label &quot;Verb Type&quot;
= f.select :verb_type, options: [&quot;형용사&quot;, &quot;동사&quot;, &quot;Both&quot;],
  required: true

</span><span style="color:#63a35c;">h3</span><span style="color:#323232;"> Translations

= f.fields_for :translations do |af|
  - unless af.object.new?
    = af.hidden_field :id, value: af.object.id

  = af.label &quot;Language Code&quot;
  - if af.object.new?
    = af.text_field :language_code
  - else
    = af.text_field :language_code, required: true

  = af.label &quot;Meanings (comma separated)&quot;
  - if af.object.new?
    = af.text_field :meanings
  - else
    = af.text_field :meanings, required: true

  = af.label &quot;Notes&quot;
  = af.text_area :notes

  - unless af.object.new?
    = af.label &quot;Destroy&quot;
    = af.check_box :_delete

  </span><span style="color:#63a35c;">hr

</span><span style="color:#323232;">= submit_tag pat(:save)
= submit_tag pat(:save_and_continue), :name =&gt; &#39;save_and_continue&#39;
= link_to pat(:cancel), url(:grammar, :index)
</span></pre><h3 id="controller-and-routes">Controller and Routes</h3>
<p>Lastly we need some basic controller and routing code. <code>index</code> is still simple:</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;"># app/controllers/grammar.rb
</span><span style="color:#323232;">
get </span><span style="color:#0086b3;">:index </span><span style="font-weight:bold;color:#a71d5d;">do
  </span><span style="color:#323232;">@grammars </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#0086b3;">Grammar</span><span style="color:#323232;">.all
  render </span><span style="color:#183691;">&#39;grammar/index&#39;
</span><span style="font-weight:bold;color:#a71d5d;">end
</span></pre>
<p>When it comes to new/create, an empty <code>GrammarTranslation</code>s object needs to be initialized. In Padrino this is accomplished by initializing the <code>&lt;model&gt;_attributes</code> field, which comes from the <code>nested_attributes</code> tag.</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;"># app/controllers/grammar.rb
</span><span style="color:#323232;">
get </span><span style="color:#0086b3;">:new </span><span style="font-weight:bold;color:#a71d5d;">do
  </span><span style="color:#323232;">@grammar </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#0086b3;">Grammar</span><span style="color:#323232;">.</span><span style="font-weight:bold;color:#a71d5d;">new</span><span style="color:#323232;">(</span><span style="color:#0086b3;">translations_attributes: </span><span style="color:#323232;">[{}])
  render </span><span style="color:#183691;">&#39;new&#39;
</span><span style="font-weight:bold;color:#a71d5d;">end</span><span style="color:#323232;">

post </span><span style="color:#0086b3;">:create </span><span style="font-weight:bold;color:#a71d5d;">do
  </span><span style="color:#323232;">@grammar </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#0086b3;">Grammar</span><span style="color:#323232;">.</span><span style="font-weight:bold;color:#a71d5d;">new</span><span style="color:#323232;">(params[</span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">])

  </span><span style="font-weight:bold;color:#a71d5d;">if </span><span style="color:#323232;">(grammar </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#323232;">@grammar.save)
    flash[</span><span style="color:#0086b3;">:success</span><span style="color:#323232;">] </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#183691;">&#39;Successfully saved grammar &amp; translation.&#39;

    </span><span style="font-weight:bold;color:#a71d5d;">if</span><span style="color:#323232;"> params[</span><span style="color:#0086b3;">:save_and_continue</span><span style="color:#323232;">]
      redirect url_for(</span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">, </span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">, </span><span style="color:#0086b3;">id:</span><span style="color:#323232;"> grammar.id)
    </span><span style="font-weight:bold;color:#a71d5d;">else</span><span style="color:#323232;">
      redirect url(</span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">, </span><span style="color:#0086b3;">:new</span><span style="color:#323232;">)
    </span><span style="font-weight:bold;color:#a71d5d;">end
  else</span><span style="color:#323232;">
    flash[</span><span style="color:#0086b3;">:error</span><span style="color:#323232;">] </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#183691;">&quot;Error saving grammar: &quot; </span><span style="font-weight:bold;color:#a71d5d;">+
      </span><span style="color:#323232;">@grammar.errors.map(</span><span style="font-weight:bold;color:#a71d5d;">&amp;</span><span style="color:#0086b3;">:message</span><span style="color:#323232;">).join(</span><span style="color:#183691;">&quot;, &quot;</span><span style="color:#323232;">)
    render </span><span style="color:#183691;">&#39;new&#39;
  </span><span style="font-weight:bold;color:#a71d5d;">end
end
</span></pre>
<p>For the <code>edit</code> route, a new <code>GrammarTranslation</code> is appended because we want to be able to create new <code>GrammarTranslation</code>s from a <code>Grammar</code>'s edit page.</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;"># app/controllers/grammar.rb
</span><span style="color:#323232;">
get </span><span style="color:#0086b3;">:edit</span><span style="color:#323232;">, </span><span style="color:#0086b3;">with: :id </span><span style="font-weight:bold;color:#a71d5d;">do
  </span><span style="color:#323232;">@grammar </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#0086b3;">Grammar</span><span style="color:#323232;">[params[</span><span style="color:#0086b3;">:id</span><span style="color:#323232;">]]
  @grammar.translations </span><span style="font-weight:bold;color:#a71d5d;">&lt;&lt; </span><span style="color:#0086b3;">GrammarTranslation</span><span style="color:#323232;">.</span><span style="font-weight:bold;color:#a71d5d;">new

  if </span><span style="color:#323232;">@grammar
    render </span><span style="color:#183691;">&#39;grammar/edit&#39;
  </span><span style="font-weight:bold;color:#a71d5d;">else</span><span style="color:#323232;">
    flash[</span><span style="color:#0086b3;">:warning</span><span style="color:#323232;">] </span><span style="font-weight:bold;color:#a71d5d;">=</span><span style="color:#323232;"> pat(
      </span><span style="color:#0086b3;">:create_error</span><span style="color:#323232;">,
      </span><span style="color:#0086b3;">model: </span><span style="color:#183691;">&#39;grammar&#39;</span><span style="color:#323232;">,
      </span><span style="color:#0086b3;">id:</span><span style="color:#323232;"> params[</span><span style="color:#0086b3;">:id</span><span style="color:#323232;">].</span><span style="color:#62a35c;">to_s
    </span><span style="color:#323232;">)
    halt </span><span style="color:#0086b3;">404
  </span><span style="font-weight:bold;color:#a71d5d;">end
end
</span></pre>
<p>For <code>update</code>, since we added a blank <code>GrammarTranslation</code>, it's necessary to filter it out if none of the fields were filled out in the form. Otherwise, every single time you upated a <code>Grammar</code>, a new <code>GrammarTranslation</code> would be created.</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;"># app/controllers/grammar.rb
</span><span style="color:#323232;">
put </span><span style="color:#0086b3;">:update</span><span style="color:#323232;">, </span><span style="color:#0086b3;">with: :id </span><span style="font-weight:bold;color:#a71d5d;">do
  </span><span style="color:#323232;">@grammar </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#0086b3;">Grammar</span><span style="color:#323232;">[params[</span><span style="color:#0086b3;">:id</span><span style="color:#323232;">]]

  </span><span style="font-style:italic;color:#969896;"># filter out the new translation
</span><span style="color:#323232;">  params[</span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">][</span><span style="color:#0086b3;">:translations_attributes</span><span style="color:#323232;">]
    .select!{ |_k, v| v[</span><span style="color:#0086b3;">:language_code</span><span style="color:#323232;">].present? </span><span style="font-weight:bold;color:#a71d5d;">== </span><span style="color:#0086b3;">true </span><span style="color:#323232;">}

  </span><span style="font-weight:bold;color:#a71d5d;">if </span><span style="color:#323232;">@grammar.modified! </span><span style="font-weight:bold;color:#a71d5d;">&amp;&amp; </span><span style="color:#323232;">@grammar.update(params[</span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">])
    flash[</span><span style="color:#0086b3;">:success</span><span style="color:#323232;">] </span><span style="font-weight:bold;color:#a71d5d;">=</span><span style="color:#323232;"> pat(</span><span style="color:#0086b3;">:update_success</span><span style="color:#323232;">, </span><span style="color:#0086b3;">model: </span><span style="color:#183691;">&#39;Grammar&#39;</span><span style="color:#323232;">, </span><span style="color:#0086b3;">id:</span><span style="color:#323232;"> params[</span><span style="color:#0086b3;">:id</span><span style="color:#323232;">].</span><span style="color:#62a35c;">to_s</span><span style="color:#323232;">)
    </span><span style="font-weight:bold;color:#a71d5d;">if</span><span style="color:#323232;"> params[</span><span style="color:#0086b3;">:save_and_continue</span><span style="color:#323232;">]
      redirect(url(</span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">, </span><span style="color:#0086b3;">:new</span><span style="color:#323232;">))
    </span><span style="font-weight:bold;color:#a71d5d;">else</span><span style="color:#323232;">
      redirect(url(</span><span style="color:#0086b3;">:grammar</span><span style="color:#323232;">, </span><span style="color:#0086b3;">:edit</span><span style="color:#323232;">, </span><span style="color:#0086b3;">id: </span><span style="color:#323232;">@grammar.id))
    </span><span style="font-weight:bold;color:#a71d5d;">end
  else</span><span style="color:#323232;">
    flash.now[</span><span style="color:#0086b3;">:error</span><span style="color:#323232;">] </span><span style="font-weight:bold;color:#a71d5d;">=</span><span style="color:#323232;"> pat(</span><span style="color:#0086b3;">:update_error</span><span style="color:#323232;">, </span><span style="color:#0086b3;">model: </span><span style="color:#183691;">&#39;grammar&#39;</span><span style="color:#323232;">)
    render </span><span style="color:#183691;">&#39;accounts/edit&#39;
  </span><span style="font-weight:bold;color:#a71d5d;">end
end
</span></pre><h3 id="object-views">Object Views</h3>
<p>Nothing complicated here. The nested resource is available under the main object, so we can use <code>@grammar.translations</code>.</p>
<pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;">// app/views/grammar/index.slim

</span><span style="color:#323232;">- @grammars.each do |g|
  = link_to g.grammar, &quot;/grammar/</span><span style="font-style:italic;color:#969896;">#{g.id}&quot;
  </span><span style="color:#63a35c;">br
</span></pre><pre style="background-color:#ffffff;">
<span style="font-style:italic;color:#969896;">// app/views/grammar/show.slim

</span><span style="color:#63a35c;">h2
  </span><span style="color:#323232;">= @grammar.grammar
</span><span style="color:#63a35c;">p</span><span style="color:#323232;">
  | Alternatives:
  = @grammar.alternatives
</span><span style="color:#63a35c;">h4</span><span style="color:#323232;"> Translations
- @translations.each do |t|
  </span><span style="color:#63a35c;">div
    p</span><span style="color:#323232;">
      | Lang:
      =&lt; t.language_code
    </span><span style="color:#63a35c;">p</span><span style="color:#323232;">
      | Meaning:
      =&lt; t.meanings
</span></pre><h3 id="conclusion">Conclusion</h3>
<p>I hope this short guide helped you. You should now be able to create a model and a nested object at the same time!</p>

      <div id="email-me">
        Have any observations, criticisms, or corrections? Feel free to <a href="mailto:blog@andrewzah.com">email me</a>. Have a nice day!
      </div>
      
        
  <div id="resources">
    <h3> Further Reading </h3>
    <ul>
      
        <li>
          <span>
            <a href="https:&#x2F;&#x2F;sequel.jeremyevans.net&#x2F;rdoc-plugins&#x2F;classes&#x2F;Sequel&#x2F;Plugins&#x2F;NestedAttributes.html">
              Sequel Plugins Nested Attributes Reference
            </a>
          </span>
        </li>
      
        <li>
          <span>
            <a href="https:&#x2F;&#x2F;api.rubyonrails.org&#x2F;classes&#x2F;ActiveRecord&#x2F;NestedAttributes&#x2F;ClassMethods.html">
              Rails Api Reference for Nested Attributes
            </a>
          </span>
        </li>
      
        <li>
          <span>
            <a href="http:&#x2F;&#x2F;padrinorb.com&#x2F;guides&#x2F;application-helpers&#x2F;nested-object-form-support&#x2F;">
              Padrino Nested Form Reference
            </a>
          </span>
        </li>
      
    </ul>
  </div>

      
      
      
    </article>
  </div>
</main>
    </div>

    <div class="after-content">
      <div class="container">
        <div>
  <div id="after-main" class="container">
    <div id="random-quote">
      <h2> Random quote </h2>
      <blockquote id="random-quote-quote"></blockquote>
      <p id="random-quote-citation">
        <span id="random-quote-author"></span>
        <span id="random-quote-source"></span>
      </p>
    </div>
    <hr>

    <div class="container after-post">
        
          <div id="previous_post">
            Previous: <i>
              <a class="prev" href="/posts/ultimate-list-of-resources-for-learning-korean-in-2019">Ultimate List of Resources for Learning Korean in 2019</a>
            </i>
          </div>
        

        
          <div id="next_post">
            Next: <i>
              <a class="next" href="/posts/things-to-avoid-with-anki">Things to avoid with Anki</a>
            </i>
          </div>
        

        
          
  
  <div class="tags">
    Tags: 
    
      
        <a href="/tags/padrino/">Padrino</a> | 
      
    
      
        <a href="/tags/ruby/">Ruby</a> | 
      
    
      
        <a href="/tags/forms/">Forms</a>
      
    
  </div>

  
  <div class="categories">
    Categories: 
    
      
        <a href="/categories/programming/">Programming</a>
      
    
  </div>


        
    </div>

    <hr>

    <div>
      <form id="mailing-list"
        action="https://tinyletter.com/andrewzah"
        method="post" target="popupwindow"
        onsubmit="window.open('https://tinyletter.com/andrewzah', 'popupwindow', 'scrollbars=yes,width=800');return true">
        <label for="tlemail">
          Enjoy posts like this? Sign up for the mailing list!
        </label>
        <div>
          <input type="text" class="form-label" name="email" id="tlemail" />
          <input type="hidden" value="1" name="embed"/>
          <input type="submit" class="button button-primary" style="" value="Subscribe" />
        </div>
        Note: I hate spam mail as much as you do.
      </form>
    </div>
    <hr>
    </div>

    <footer class="footer">
    <small>
        &copy; Copyright Andrew Zah <time datetime="2019">2019</time>.
        | <a href="/contact">Contact</a>
        | <a href="https://git.sr.ht/~andrewzah/personal-site/tree">Site Source Code (AGPLv3)</a>
    </small>
</footer>

    </div>
      </div>
    </div>

    <!-- Matomo -->
    <script type="text/javascript">
      var _paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//matomo.andrewzah.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '2']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->

  </body>
</html>
